<div class="main-container">
  <h3>
    <span *ngIf="!gameOver">Dans quelle ville a été prise cette photo ?</span>
    <span *ngIf="gameOver">Jeu terminé !</span>
  </h3>

  <div class="game-level" *ngIf="currentLevel">
    <div class="info-tooltip"
         matTooltip="Le score à atteindre pour passer au niveau suivant est de {{currentLevelScoreGoal}}">
      <mat-icon aria-hidden="false" aria-label="info">info</mat-icon>
    </div>

    <h2>
      <span *ngIf="!gameOver">
        Niveau {{currentLevel.level}} - Score
      </span>
      <span *ngIf="gameOver">Score final</span>
      {{score}}
      <span> - Chrono {{timerValueSeconds}}</span>
    </h2>

    <div class="question" *ngIf="currentQuestion && !gameOver">
      <img class="photo" src="./assets/photos/level_{{currentLevel.level}}/{{currentQuestion.photoFileName}}">
      <div class="form-container">
        <mat-form-field>
          <input matInput placeholder="Réponse..." [(ngModel)]='answerModel' autofocus (keydown.enter)="onKeyEnter()">
        </mat-form-field>
        <!-- answer status -->
        <div class="answer-status {{answerStatus}}">
          <mat-icon *ngIf="answerStatus == 'CORRECT'" aria-hidden="false" aria-label="right">check_circle</mat-icon>
          <mat-icon *ngIf="answerStatus == 'WRONG'" aria-hidden="false" aria-label="wrong">cancel</mat-icon>
        </div>
        <!-- submit buttons -->
        <button [disabled]="answerStatus === 'CORRECT'" mat-flat-button color="primary" class="submit-answer"
                (click)="onSubmitAnswer()">
          Valider
        </button>

        <button [disabled]="answerStatus === 'NA'" mat-flat-button color="accent" class="submit-answer"
                (click)="onNextQuestion()">
          Suivant
        </button>
      </div>
    </div>

    <div *ngIf="gameOver" class="game-over-container">
      <img class="photo" alt="Celebration (credits: Unsplash)" src="./assets/images/tada.jpg">

      <div>
        <button mat-flat-button color="accent">Rejouer</button>
      </div>
    </div>

  </div>
</div>
